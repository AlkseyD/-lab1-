// Цей Jenkinsfile завантажує файл з GitHub та завантажує його в відро S3.

pipeline {

  agent any

  stages {

    // Stage завантаження файлу з GitHub
    stage('Завантажити файл з GitHub') {
      steps {
        git 'https://github.com/AlkseyD/-lab1-/blob/main/new_site.html'
        echo 'Файл завантажено з GitHub'
      }
    }

    // Stage завантаження файлу в відро S3
    stage('Завантажити файл в відро S3') {
      steps {
        aws s3 cp new_site.html s3://jenkins-bucket-for-lab1dovbah
        echo 'Файл завантажено в відро S3'
      }
    }

    // Stage видалення клонованого Git-репозиторію
    stage('Видалити клонований Git-репозиторій') {
      steps {
        deleteDir()
        echo 'Клонований Git-репозиторій видалено'
      }
    }
  }
}

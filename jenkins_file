// This Jenkinsfile downloads a file from GitHub and uploads it to an S3 bucket.
pipeline {

    agent any

  stages {

    // Stage to download the file from GitHub
    stage('Download file from GitHub') {
      steps {
        git 'https://github.com/AlkseyD/-lab1-/blob/main/new_site.html'
        echo "File downloaded from GitHub"
      }
    }

    // Stage to upload the file to S3 bucket
    stage('Upload file to S3 bucket') {
      steps {
        sh 'aws s3 cp new_site.html s3://jenkins-bucket-for-lab1dovbah'
        echo "File uploaded to S3 bucket"
      }


    // Stage to delete the cloned Git repository
    stage('Delete cloned Git repository') {
      steps {
        deleteDir()
        echo "Cloned Git repository deleted"
      }
    }
  }
}
